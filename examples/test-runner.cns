Story: Universal Test Runner for Multi-Language Projects
# Runs tests for Rust, Go, Python, Java, and other languages
# Parses test output and extracts failures

Given:
  Language: String = "rust"
  RepoPath: String = "test-repos/rust-example"
  TestCommand: String = ""
  TestOutput: String = ""
  ExitCode: Number = 0
  TestsPassed: Boolean = FALSE
  FailureCount: Number = 0

Step 1 → Determine test command by language
  Because: Different languages use different test commands
  If: Language = "rust"
    Then: TestCommand becomes "cargo test --color=never"
  If: Language = "go"
    Then: TestCommand becomes "go test ./..."
  If: Language = "python"
    Then: TestCommand becomes "pytest -v"
  If: Language = "java"
    Then: TestCommand becomes "mvn test"
  If: Language = "javascript"
    Then: TestCommand becomes "npm test"

Step 2 → Execute tests
  Because: Run the actual test suite
  Effect: Print "Running tests: {TestCommand}"
  Effect: SHELL "{TestCommand}" INTO TestOutput WITH EXIT_CODE ExitCode

Step 3 → Check if tests passed
  Because: Exit code 0 means success
  If: ExitCode = 0
    Then: TestsPassed becomes TRUE

Step 4 → Display results
  Because: Show test execution summary
  Effect: Print "=== Test Results ==="
  Effect: Print "Language: {Language}"
  Effect: Print "Command: {TestCommand}"
  Effect: Print "Exit Code: {ExitCode}"
  If: TestsPassed = TRUE
    Effect: Print "Status: ✓ ALL TESTS PASSED"
  Otherwise:
    Effect: Print "Status: ✗ TESTS FAILED"

End: TestsPassed
